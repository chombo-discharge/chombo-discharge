<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Driver &mdash; chombo-discharge  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../_static/my_theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="ComputationalGeometry" href="ComputationalGeometry.html" />
    <link rel="prev" title="Overview" href="DesignOverview.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> chombo-discharge
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Base/Documentation.html">Using this documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Base/Overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Base/Installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Base/Visualization.html">Visualization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Base/Control.html">Controlling <code class="docutils literal notranslate"><span class="pre">chombo-discharge</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../Base/Examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Base/Testing.html">Code testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Base/Acknowledgements.html">Acknowledgements</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Discretization</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="SpatialDiscretization.html">Spatial discretization</a></li>
<li class="toctree-l1"><a class="reference internal" href="ChomboBasics.html"><code class="docutils literal notranslate"><span class="pre">Chombo-3</span></code> basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="MeshData.html">Mesh data</a></li>
<li class="toctree-l1"><a class="reference internal" href="Particles.html">Particles</a></li>
<li class="toctree-l1"><a class="reference internal" href="Realm.html">Realm</a></li>
<li class="toctree-l1"><a class="reference internal" href="LinearSolvers.html">Linear solvers</a></li>
<li class="toctree-l1"><a class="reference internal" href="VV.html">Verification and validation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Design</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="DesignOverview.html">Overview</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Driver</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#simulation-setup">Simulation setup</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#new-simulations">New simulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#restarting-simulations">Restarting simulations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#simulation-advancement">Simulation advancement</a></li>
<li class="toctree-l2"><a class="reference internal" href="#regridding">Regridding</a></li>
<li class="toctree-l2"><a class="reference internal" href="#class-options">Class options</a></li>
<li class="toctree-l2"><a class="reference internal" href="#runtime-options">Runtime options</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ComputationalGeometry.html">ComputationalGeometry</a></li>
<li class="toctree-l1"><a class="reference internal" href="TimeStepper.html">TimeStepper</a></li>
<li class="toctree-l1"><a class="reference internal" href="AmrMesh.html">AmrMesh</a></li>
<li class="toctree-l1"><a class="reference internal" href="CellTagger.html">CellTagger</a></li>
<li class="toctree-l1"><a class="reference internal" href="GeoCoarsener.html">GeoCoarsener</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Solvers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Solvers/CDR.html">Convection-Diffusion-Reaction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Solvers/Electrostatics.html">Electrostatic solver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Solvers/MeshODESolver.html">Mesh ODE solver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Solvers/RTE.html">Radiative transfer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Solvers/Sigma.html">Surface charge solver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Solvers/TracerParticles.html">Tracer particles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Solvers/Ito.html">Îto diffusion</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Applications</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Applications/ImplementedModels.html">Implemented models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Applications/AdvectionDiffusionModel.html">Advection-diffusion model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Applications/BrownianWalkerModel.html">Brownian walker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Applications/CdrPlasmaModel.html">CDR plasma</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Applications/ElectrostaticsModel.html">Electrostatics model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Applications/GeometryModel.html">Geometry</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Applications/MeshODEModel.html">Mesh ODE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Applications/RadiativeTransferModel.html">Radiative transfer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Applications/StreamerInceptionModel.html">Streamer inception</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Applications/TracerParticleModel.html">Tracer particle model</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorial</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Tutorials/Tutorial.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Tutorials/Tutorial.html#creating-a-geometry">Creating a geometry</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Tutorials/Tutorial.html#setting-up-a-timestepper">Setting up a <code class="docutils literal notranslate"><span class="pre">TimeStepper</span></code></a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Utilities</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Utilities/LookupTable.html">Lookup tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Utilities/RandomNumbers.html">Random numbers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Utilities/LeastSquares.html">Least squares</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contributing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Contrib/Contributions.html">Contributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Contrib/CodeStandard.html">Code standard</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Bibliography</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../ZZReferences.html">References</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">chombo-discharge</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Driver</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/Source/Driver.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="driver">
<span id="chap-driver"></span><h1>Driver<a class="headerlink" href="#driver" title="Permalink to this heading"></a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">Driver</span></code> class runs <code class="docutils literal notranslate"><span class="pre">chombo-discharge</span></code> simulations.
The primary role of the <code class="docutils literal notranslate"><span class="pre">Driver</span></code> class is to coordinate the simulation advance (i.e. <code class="docutils literal notranslate"><span class="pre">TimeStepper</span></code> integration) with I/O and regrid functionality.
The constructor for this class is</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">Driver</span><span class="p">(</span><span class="k">const</span> <span class="n">RefCountedPtr</span><span class="o">&lt;</span><span class="n">ComputationalGeometry</span><span class="o">&gt;&amp;</span> <span class="n">a_compgeom</span><span class="p">,</span>
       <span class="k">const</span> <span class="n">RefCountedPtr</span><span class="o">&lt;</span><span class="n">TimeStepper</span><span class="o">&gt;&amp;</span>           <span class="n">a_timestepper</span><span class="p">,</span>
       <span class="k">const</span> <span class="n">RefCountedPtr</span><span class="o">&lt;</span><span class="n">AmrMesh</span><span class="o">&gt;&amp;</span>               <span class="n">a_amr</span><span class="p">,</span>
       <span class="k">const</span> <span class="n">RefCountedPtr</span><span class="o">&lt;</span><span class="n">CellTagger</span><span class="o">&gt;&amp;</span>            <span class="n">a_celltagger</span> <span class="o">=</span> <span class="n">RefCountedPtr</span><span class="o">&lt;</span><span class="n">CellTagger</span><span class="o">&gt;</span><span class="p">(</span><span class="k">nullptr</span><span class="p">),</span>
       <span class="k">const</span> <span class="n">RefCountedPtr</span><span class="o">&lt;</span><span class="n">GeoCoarsener</span><span class="o">&gt;&amp;</span>          <span class="n">a_geocoarsen</span> <span class="o">=</span> <span class="n">RefCountedPtr</span><span class="o">&lt;</span><span class="n">GeoCoarsener</span><span class="o">&gt;</span><span class="p">(</span><span class="k">nullptr</span><span class="p">));</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p><a class="reference external" href="https://chombo-discharge.github.io/chombo-discharge/doxygen/html/classDriver.html">Driver C++ API</a>.</p>
</div>
<div class="section" id="simulation-setup">
<h2>Simulation setup<a class="headerlink" href="#simulation-setup" title="Permalink to this heading"></a></h2>
<p>For setting up an running simulations, only a single routine is used:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="nf">setupAndRun</span><span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">a_inputFile</span><span class="p">);</span>
</pre></div>
</div>
<p>This routine will set up and run a simulation.</p>
<div class="section" id="new-simulations">
<h3>New simulations<a class="headerlink" href="#new-simulations" title="Permalink to this heading"></a></h3>
<p>If a simulation starts from the first time step, the <code class="docutils literal notranslate"><span class="pre">Driver</span></code> class will perform the following steps in <code class="docutils literal notranslate"><span class="pre">setupAndRun()</span></code>.</p>
<ol class="arabic simple">
<li><p>Ask <code class="docutils literal notranslate"><span class="pre">ComputationalGeometry</span></code> to generate the cut-cell moments.</p></li>
<li><p>Collect all the cut-cells and ask <code class="docutils literal notranslate"><span class="pre">AmrMesh</span></code> to set up an initial grid.
This initial grid is always generated by flagging cells for refinement along the boundary.
Various options are available for configuring this initial grid, see <a class="reference internal" href="SpatialDiscretization.html#chap-refinementphilosophy"><span class="std std-ref">Cell refinement philosophy</span></a>.
Also note that it is possible to restrict the maximum level that can be generated from the geometric tags, or remove some of the cut-cell refinement flags through the auxiliary class <code class="docutils literal notranslate"><span class="pre">GeoCoarsener</span></code>.</p></li>
<li><p>Ask the <code class="docutils literal notranslate"><span class="pre">TimeStepper</span></code> to set up relevant solvers and fill them with initial data.</p></li>
<li><p>Perform the number of initial regrids that the user asks for.
After the regrid, the solvers are re-filled with initial data (rather than regridding).</p></li>
<li><p>Ask <code class="docutils literal notranslate"><span class="pre">TimeStepper</span></code> to perform a <em>post-initialization</em> routine.</p></li>
</ol>
</div>
<div class="section" id="restarting-simulations">
<h3>Restarting simulations<a class="headerlink" href="#restarting-simulations" title="Permalink to this heading"></a></h3>
<p>If a simulation uses restart file, i.e. one that <em>does not start</em> from the first time step, the <code class="docutils literal notranslate"><span class="pre">Driver</span></code> class will execute the following steps in <code class="docutils literal notranslate"><span class="pre">setupAndRun(...)</span></code>.</p>
<ol class="arabic simple">
<li><p>Ask <code class="docutils literal notranslate"><span class="pre">ComputationalGeometry</span></code> to generate the cut-cell moments.</p></li>
<li><p>Read a checkpoint file that contains the grids and all the data that have been checkpointed by the solvers.
<code class="docutils literal notranslate"><span class="pre">Driver</span></code> will issue an error and abort if the checkpoint file does not exist.</p></li>
<li><p>Ask <code class="docutils literal notranslate"><span class="pre">TimeStepper</span></code> to perform a <em>post-checkpoint</em> step.
This functionality has been included because not all data in every solver needs to be checkpointed.
For example, an electric field solver only needs to write the electric potential to the checkpoint file because the electric field is simply obtained by taking the gradient.</p></li>
<li><p>Perform the number of initial regrids that the user asks for.</p></li>
</ol>
</div>
</div>
<div class="section" id="simulation-advancement">
<h2>Simulation advancement<a class="headerlink" href="#simulation-advancement" title="Permalink to this heading"></a></h2>
<p>The algorithm for running a simulation is conceptually simple; the <code class="docutils literal notranslate"><span class="pre">Driver</span></code> class calls <code class="docutils literal notranslate"><span class="pre">TimeStepper::computeDt</span></code> for computing a reasonable time step for advancing the equations, and uses <code class="docutils literal notranslate"><span class="pre">Real</span> <span class="pre">TimeStepper::advance(Real</span> <span class="pre">dt)</span></code> to actually perform the advance.
Regrids, plot files, and checkpoint files are written at certain step intervals (or when the <code class="docutils literal notranslate"><span class="pre">TimeStepper</span></code> demands them).
In brief, the algorithm looks like this:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Driver::run(...){

   while(KeepRunningTheSimulation){
      if(RegridEverything){
         Driver-&gt;regrid()
      }

      tryDt    = TimeStepper-&gt;computeDt()
      actualDt = TimeStepper-&gt;advance(tryDt)

      if(WriteAPlotFile or EndOfSimulation){
         Driver-&gt;writePlotFile();
      }
      if(TimeToWriteACheckpointFile or EndOfSimulation){
         Driver-&gt;writeCheckpointFile()
      }

      KeepRunningTheSimulation = true or false
   }
}
</pre></div>
</div>
</div>
<div class="section" id="regridding">
<span id="chap-regridding"></span><h2>Regridding<a class="headerlink" href="#regridding" title="Permalink to this heading"></a></h2>
<p>Regrids are called by the <code class="docutils literal notranslate"><span class="pre">Driver</span></code> class and proceed as follows:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CellTagger</span></code> generates tags for grid refinement and coarsening.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">TimeStepper</span></code> class stores data that is subject to regrids so that we have access to previously defined data when we interpolate to the new grids.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">AmrMesh</span></code> class generates the new grid boxes and EB information.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">TimeStepper</span></code> checks if the defined realms show be load balanced.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AmrMesh</span></code> regrids the realms and EBAMR operators.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">TimeStepper</span></code> class regrids its solvers and internal data.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">TimerStepper</span></code> performs a <em>post-regrid</em> operation (e.g. filling solvers with auxiliary data).</p></li>
</ol>
<p>In C++ pseudo-code, this looks something like:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">Driver</span><span class="o">::</span><span class="n">regrid</span><span class="p">(){</span>

   <span class="c1">// Tag cells</span>
   <span class="n">CellTagger</span><span class="o">-&gt;</span><span class="n">tagCellsForRefinement</span><span class="p">()</span>

   <span class="c1">// Store old data and free up some memory</span>
   <span class="n">TimeStepper</span><span class="o">-&gt;</span><span class="n">storeOldGridData</span><span class="p">()</span>

   <span class="c1">// Generate the new grids</span>
   <span class="n">AmrMesh</span><span class="o">-&gt;</span><span class="n">makeNewGrids</span><span class="p">()</span>

   <span class="k">if</span><span class="p">(</span><span class="n">loadBalance</span><span class="p">)</span> <span class="p">{</span>
     <span class="n">TimeStepper</span><span class="o">-&gt;</span><span class="n">loadBalance</span><span class="p">();</span>
   <span class="p">}</span>

   <span class="c1">// AmrMesh finalizes the EBAMR grids</span>
   <span class="n">AmrMesh</span><span class="o">-&gt;</span><span class="n">regridOperators</span><span class="p">()</span>

   <span class="c1">// Regrid timestepper</span>
   <span class="n">TimeStepper</span><span class="o">-&gt;</span><span class="n">regrid</span><span class="p">()</span>

   <span class="c1">// Do a post-regrid step</span>
   <span class="n">TimeStepper</span><span class="o">-&gt;</span><span class="n">postRegrid</span><span class="p">()</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">Driver</span></code> class does not <em>require</em> an instance of <a class="reference internal" href="CellTagger.html#chap-celltagger"><span class="std std-ref">CellTagger</span></a> (which is responsible for flagging cells for refinement).
If users decide to omit a cell tagger, regridding functionality is completely turned off and only the initially generated grids will be used throughout the simulation.</p>
</div>
</div>
<div class="section" id="class-options">
<h2>Class options<a class="headerlink" href="#class-options" title="Permalink to this heading"></a></h2>
<p>Various class options are available for adjusting the behavior of the <code class="docutils literal notranslate"><span class="pre">Driver</span></code> class</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Driver.verbosity</span></code> controls output will be given to <code class="docutils literal notranslate"><span class="pre">pout.n</span></code>. We use 2 or 3 - higher values are for debugging.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Driver.geometry_generation</span></code> controls the grid generation method (see <a class="reference internal" href="SpatialDiscretization.html#chap-geometrygeneration"><span class="std std-ref">Geometry generation</span></a>).
Valid options are <em>chombo-discharge</em> or <em>chombo</em>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Driver.geometry_scan_level</span></code>.
Which refinement level to initiate the <code class="docutils literal notranslate"><span class="pre">chombo-discharge</span></code> geometry generation method.
This entry indicates the number of refinements of the coarsest AMR level used in the simulation.
E.g. if the <code class="docutils literal notranslate"><span class="pre">Driver.geometry_scan_level=1</span></code> and the coarsest AMR level is <span class="math notranslate nohighlight">\(128^3\)</span> then the signed distance pruning (see <a class="reference internal" href="SpatialDiscretization.html#chap-geometrygeneration"><span class="std std-ref">Geometry generation</span></a>) begins at the AMR level <span class="math notranslate nohighlight">\(256^3\)</span>.
Note that negative numbers are also permitted, in which case the pruning initiates at a coarsened level.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Driver.plot_interval</span></code>. Time steps between each plot file.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Driver.checkpoint_interval</span></code>. Time steps between each checkpoint file.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Driver.regrid_interval</span></code>. Time steps between each regrid.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Driver.write_regrid_files</span></code>. Write plot files during regrids. Valid options are <em>true</em> or <em>false</em>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Driver.write_restart_files</span></code>.Write plot files during restarts. Valid options are <em>true</em> or <em>false</em>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Driver.initial_regrids</span></code>. Number of initial regrids to perform when starting (or restarting) a simulation.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Driver.start_time</span></code>. Simulation start time.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Driver.stop_time</span></code>.Simulation stop time.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Driver.max_steps</span></code>. Maximum number of simulation time steps.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Driver.geometry_only</span></code>. If <em>true</em>, do not run the simulation and only write the geometry to file.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Driver.write_memory</span></code>. Write MPI memory report. Valid options are <em>true</em> or <em>false</em>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Driver.write_loads</span></code>.  Write computational loads. Valid options are <em>true</em> or <em>false</em>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Driver.output_directory</span></code>. Output directory.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Driver.output_names</span></code>. Simulation file names.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Driver.max_plot_depth</span></code>. Maximum plot depth.
Values <span class="math notranslate nohighlight">\(&lt; 0\)</span> means all levels.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Driver.max_chk_depth</span></code>.  Maximum checkpoint file depth.
Values <span class="math notranslate nohighlight">\(&lt; 0\)</span> means all levels.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Driver.num_plot_ghost</span></code>. Number of ghost cells in plot files.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Driver.plt_vars</span></code>. Plot variables for <code class="docutils literal notranslate"><span class="pre">Driver</span></code>. Valid options are <em>tags</em>, <em>mpi_rank</em>, <em>levelset</em>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Driver.restart</span></code>. Restart step (less or equal to 0 implies fresh simulation)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Driver.allow_coarsening</span></code>. Allows removal of grid levels if cell tags dont run deep enough.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Driver.grow_geo_tags</span></code>. How much to grow cut-cell refinement tags.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Driver.refine_angles</span></code>. Refine cells if the angle between normal vector in neighboring cells exceed this threshold.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Driver.refine_electrodes</span></code>. Refine electrode surfaces. Values <span class="math notranslate nohighlight">\(&lt; 0\)</span> will refine all the way down.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Driver.refine_dielectrics</span></code>. Refine dielectric surfaces. Values <span class="math notranslate nohighlight">\(&lt; 0\)</span> will refine all the way down.</p></li>
</ul>
</div>
<div class="section" id="runtime-options">
<h2>Runtime options<a class="headerlink" href="#runtime-options" title="Permalink to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">Driver</span></code> can parse options during run-time (i.e. between simulation steps), see <a class="reference internal" href="../Base/Control.html#chap-runtimeconfig"><span class="std std-ref">Run-time configurations</span></a>.
The following options are run-time adjustable:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Driver.verbosity</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Driver.plot_interval</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Driver.checkpoint_interval</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Driver.regrid_interval</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Driver.write_regrid_files</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Driver.write_restart_files</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Driver.stop_time</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Driver.max_steps</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Driver.write_memory</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Driver.write_loads</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Driver.num_plot_ghost</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Driver.plt_vars</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Driver.allow_coarsening</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Driver.grow_geo_tags</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Driver.refine_angles</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Driver.refine_electrodes</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Driver.refine_dielectrics</span></code>.</p></li>
</ul>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="DesignOverview.html" class="btn btn-neutral float-left" title="Overview" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="ComputationalGeometry.html" class="btn btn-neutral float-right" title="ComputationalGeometry" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, SINTEF Energy Research.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>